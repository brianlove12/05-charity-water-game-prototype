<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jerry Can Clan</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Make the SVG background fill the game area */
    #game-container {
      position: relative;
      width: 100%;
      height: 90vh;
      overflow: hidden;
      border: 4px solid #0288d1;
      background-image: url('img/scene_horizon11_sun092_huts_restored.svg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
    }
  </style>
  <!-- Add Google Fonts link for Montserrat in the <head> section -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
</head>
<body>
  <div id="game-container">
    <!-- Pause menu overlay (hidden by default) -->
    <div id="pause-menu" style="display: none;">
      <div class="pause-box">
        <h2>Game Paused</h2>
        <div style="margin-bottom: 20px; font-size: 1.1rem;">Do you wish to continue or restart?</div>
        <button id="continue-btn">Continue</button>
        <button id="restart-btn-pause">Restart</button>
      </div>
    </div>

    <div id="start-screen">
      <h1>Jerry Can Clan</h1>
      <!-- How To Play button in the upper left -->
      <button id="how-to-play-btn">How To Play</button>
      <!-- How To Play box, hidden by default -->
      <div id="how-to-play" style="display: none;">
        <h2>How To Play</h2>
        <ul>
          <li>Use the touchpad to aim.</li>
          <li>Press the spacebar to fire the laser.</li>
          <li>On mobile, tap where you want to aim and fire.</li>
          <li>Shoot contaminants before they reach the Jerry Cans.</li>
          <li>Score points for every contaminant you hit!</li>
          <li>Lose points for every contaminant that touches the Jerry Cans.</li>
          <li>The game ends when the timer reaches zero.</li>
          <li>You win if the Water Purity Level stays above the win goal for your difficulty.</li>
          <li>Choose a difficulty mode for a new challenge!</li>
        </ul>
      </div>
      <button id="start-btn">Start Game</button>
  <!-- Redesigned difficulty mode box for better game integration -->
  <!-- Difficulty mode box, now positioned in the upper right corner of the start screen -->
  <div id="difficulty-mode-box" class="difficulty-corner">
    <label for="difficulty-select" id="difficulty-label">Difficulty:</label>
    <select id="difficulty-select">
      <option value="easy">Easy</option>
      <option value="normal" selected>Normal</option>
      <option value="hard">Hard</option>
    </select>
  </div>
    </div>

    <div id="hud">
        <div id="high-score">High Score: 0</div>
        <div id="center-hud">
          <div id="score">Score: 0</div>
          <div id="timer">Time: 30</div>
        </div>
        <div id="contam-status">Water Purity Level: 100% Safe</div>
        <button id="pause-btn">Pause</button>
    </div>

    <div id="reticle"></div>

    <div id="jerry-row">
      <img src="img/Jerry Can_pc.png" class="jerry" alt="Jerry Can">
      <img src="img/Jerry Can_pc.png" class="jerry" alt="Jerry Can">
      <img src="img/Jerry Can_pc.png" class="jerry" alt="Jerry Can">
      <img src="img/Jerry Can_pc.png" class="jerry" alt="Jerry Can">
      <img src="img/Jerry Can_pc.png" class="jerry" alt="Jerry Can">
    </div>

    <div id="game-over">
      <h1>Game Over</h1>
      <p id="final-score"></p>
      <button id="restart-btn">Restart</button>
    </div>

    <div id="contamination-meter">
      <span id="safe-label">Safe</span>
      <div id="contamination-bar">
        <div id="contamination-fill"></div>
      </div>
      <span id="toxic-label">Toxic</span>
    </div>
  </div>

  <!-- Simple footer with charity: water links for beginners -->
  <footer id="footer">
    <div style="text-align: center; padding: 12px 0; background: #7f5123; color: #fffbe8; font-size: 1.1rem;">
      Learn more or donate at
      <a href="https://www.charitywater.org/" target="_blank" style="color: #ffe066; text-decoration: underline;">charity: water</a>
      |
      <a href="https://www.charitywater.org/donate" target="_blank" style="color: #ffe066; text-decoration: underline;">Donate</a>
    </div>
  </footer>

  <audio id="zap-sound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg" preload="auto"></audio>
  <audio id="hit-sound" src="https://actions.google.com/sounds/v1/impacts/crash.ogg" preload="auto"></audio>

  <script src="script.js"></script>
</body>
<style>
  /* Move the difficulty mode box to the upper right during the start screen */
  #difficulty-mode-box.difficulty-corner {
    position: absolute;
    top: 100px;
    right: 32px;
    margin: 0;
    z-index: 30;
    /* Keep the rest of the style for blending in */
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 18px 32px;
    background: linear-gradient(90deg, #ffe066cc 60%, #fffbe8cc 100%);
    border-radius: 22px;
    box-shadow: 0 4px 18px #54380422, 0 1.5px 0 #ffd700;
    border: 2.5px solid #ffd700;
    font-family: 'Comic Sans MS', 'Comic Sans', 'Arial Rounded MT Bold', Arial, sans-serif;
    font-size: 1.2rem;
    gap: 18px;
    width: fit-content;
    margin-bottom: 0;
  }
  /* Only show the difficulty box on the start screen */
  #start-screen ~ #difficulty-mode-box,
  #difficulty-mode-box:not(.difficulty-corner) {
    display: none !important;
  }
  /* Show when on start screen */
  #start-screen[style*="display: flex"] ~ #difficulty-mode-box.difficulty-corner,
  #start-screen:not([style*="display: none"]) ~ #difficulty-mode-box.difficulty-corner {
    display: flex !important;
  }
</style>
<style>
  /* Redesigned difficulty mode box styles */
  #difficulty-mode-box {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 48px 0 0 0;
    padding: 18px 32px;
    background: linear-gradient(90deg, #ffe066cc 60%, #fffbe8cc 100%);
    border-radius: 22px;
    box-shadow: 0 4px 18px #54380422, 0 1.5px 0 #ffd700;
    border: 2.5px solid #ffd700;
    font-family: 'Comic Sans MS', 'Comic Sans', 'Arial Rounded MT Bold', Arial, sans-serif;
    font-size: 1.2rem;
    gap: 18px;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 0;
    z-index: 12;
  }
  #difficulty-label {
    color: #543804;
    font-weight: bold;
    font-size: 1.2rem;
    letter-spacing: 1px;
    margin-right: 8px;
    text-shadow: 1px 1px 0 #ffe066, 0 0 8px #ffd70088;
  }
  #difficulty-select {
    font-size: 1.1rem;
    padding: 7px 22px;
    border-radius: 12px;
    border: 2px solid #ffd700;
    background: #fffbe8;
    color: #543804;
    font-family: 'Comic Sans MS', 'Comic Sans', 'Arial Rounded MT Bold', Arial, sans-serif;
    box-shadow: 0 2px 8px #ffd70033;
    font-weight: bold;
    transition: box-shadow 0.2s, border 0.2s;
    outline: none;
    margin-left: 10px;
    cursor: pointer;
  }
  #difficulty-select:focus, #difficulty-select:hover {
    box-shadow: 0 0 16px 4px #ffd700, 0 4px 16px #ffe066aa;
    border: 2.5px solid #543804;
  }
</style>
</html>
